<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <h1>Track Roll-Over Protection</h1>
        <p>Aceleration:</p>
        <p>Ax: </p><p id='Ax'></p>

        <script>
            $(document).ready(function(){
                alert('Document Ready');
                $('#Ax').text('popo');
            });



            if ('Accelerometer' in window) {
                // The `Accelerometer` interface is supported by the browser.
                // Does the device have an accelerometer, though?
                alert('555 Aceleromter supported');
                console.log('DDDDD');
            } else {
                alert('Aceleromter not supported'); 
            }
            console.log('SSSSSSS');


            let accelerometer = null;
            try {
                accelerometer = new Accelerometer({ frequency: 1 });
                accelerometer.onerror = (event) => {
                    // Handle runtime errors.
                    if (event.error.name === 'NotAllowedError') {
                    console.log('Permission to access sensor was denied.');
                    } else if (event.error.name === 'NotReadableError') {
                    console.log('Cannot connect to the sensor.');
                    }
                };
                accelerometer.onreading = (e) => {
                    console.log(e);
                    alert(JSON.stringify(e));
                };
                console.log('Starting');
                accelerometer.start();
                console.log('Started');
            } catch (error) {
                // Handle construction errors.
                if (error.name === 'SecurityError') {
                    console.log('Sensor construction was blocked by the Permissions Policy.');
                } else if (error.name === 'ReferenceError') {
                    console.log('Sensor is not supported by the User Agent.');
                } else {
                    throw error;
                }
            }


            
        </script>




    </body>
</html>
